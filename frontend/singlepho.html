<!DOCTYPE HTML>
<html>
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Shop &mdash; Free Website Template, Free HTML5 Template by gettemplates.co</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Free HTML5 Website Template by gettemplates.co" />
	<meta name="keywords" content="free website templates, free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive" />
	<meta name="author" content="gettemplates.co" />

	<meta property="og:title" content=""/>
	<meta property="og:image" content=""/>
	<meta property="og:url" content=""/>
	<meta property="og:site_name" content=""/>
	<meta property="og:description" content=""/>
	<meta name="twitter:title" content="" />
	<meta name="twitter:image" content="" />
	<meta name="twitter:url" content="" />
	<meta name="twitter:card" content="" />

	<link rel="stylesheet" href="css/animate.css">
	<link rel="stylesheet" href="css/icomoon.css">
	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="css/flexslider.css">
	<link rel="stylesheet" href="css/owl.carousel.min.css">
	<link rel="stylesheet" href="css/owl.theme.default.min.css">
	<link rel="stylesheet" href="css/style.css">
		<link  href="css/chuong.css" rel="stylesheet">

	<script src="js/modernizr-2.6.2.min.js"></script>

	</head>
	<body>
		
	<div class="fh5co-loader"></div>
	
	<div id="page">
	<nav class="fh5co-nav" role="navigation">
		<div class="container">
			<div class="row">
				<div class="col-md-3 col-xs-2">
					<div id="fh5co-logo"><a href="index.html">Home</a></div>
				</div>
				<div class="col-md-6 col-xs-6 text-center menu-1">
					<ul>
						<li class="has-dropdown">
							<a href="product.html">Category</a>
						</li>
					</ul>
				</div>
				<div class="col-md-3 col-xs-4 text-right hidden-xs menu-2">
					<ul>
						<li>
							<a href="snaphot.html">
								<button id="camera-btn" class="btn btn-primary">
									<i class="icon-camera"></i> 
								</button>
							</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</nav>

	<header id="fh5co-header" class="fh5co-cover fh5co-cover-sm" role="banner" style="background-image:url(img/cate/pho/pho2.jpg);">
		<div class="overlay"></div>
		<div class="container">
			<div class="row">
				<div class="col-md-8 col-md-offset-2 text-center">
					<div class="display-t">
						<div class="display-tc animate-box" data-animate-effect="fadeIn">
							<h1>Food Details</h1>
						</div>
					</div>
				</div>
			</div>
		</div>
	</header>
	
	<div id="fh5co-product">
		<div class="container">
			<div class="row">
				<div class="col-md-10 col-md-offset-1 animate-box">
					<div class="owl-carousel owl-carousel-fullwidth product-carousel">
						<div class="item"><div class="active text-center"><figure><img src="img/cate/pho/pho1.jpg" alt="user"></figure></div></div>
						<div class="item"><div class="active text-center"><figure><img src="img/cate/pho/pho2.jpg" alt="user"></figure></div></div>
						<div class="item"><div class="active text-center"><figure><img src="img/cate/pho/pho3.jpg" alt="user"></figure></div></div>
						<div class="item"><div class="active text-center"><figure><img src="img/cate/pho/pho4.jpg" alt="user"></figure></div></div>
						<div class="item"><div class="active text-center"><figure><img src="img/cate/pho/pho5.jpg" alt="user"></figure></div></div>
					</div>

					<div class="row animate-box">
						<div class="col-md-8 col-md-offset-2 text-center fh5co-heading">
							<h2>Phở</h2>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-10 col-md-offset-1">

					<!-- ====== TABS ROOT (5 TAB + CSS) ====== -->
					<div class="fh5co-tabs animate-box" id="foodTabsRoot" data-food-key="pho">
						<style>
							.soft-card{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:14px;box-shadow:0 10px 28px rgba(0,0,0,.06);padding:18px;margin:14px 0}
							.soft-muted{color:#6b7280}
							.section-title{margin:18px 0 12px;font-weight:700;letter-spacing:.2px}
							.pill{display:inline-block;padding:6px 10px;border-radius:999px;background:#f3f4f6;margin:6px 6px 0 0;font-size:12px}
							.kpi{font-size:26px;font-weight:800;line-height:1}
							.kpi small{font-size:12px;font-weight:600;color:#6b7280}
							.kpi-row{display:flex;gap:14px;flex-wrap:wrap}
							.kpi-box{flex:1;min-width:150px;padding:14px;border-radius:12px;background:#fafafa;border:1px solid rgba(0,0,0,.06)}
							.kpi-box .label{display:block;margin-top:6px;color:#6b7280;font-weight:600}
							.form-compact .form-control{height:40px;border-radius:10px}
							.form-compact .btn{border-radius:10px}
							.progress{height:10px;border-radius:999px;overflow:hidden;box-shadow:none;background:#eee;margin:8px 0 0}
							.progress-bar{box-shadow:none}
							.mini{font-size:12px}
							.divider{height:1px;background:rgba(0,0,0,.06);margin:18px 0}
							.warn-list li{margin:4px 0}
							.history-item{display:flex;justify-content:space-between;gap:10px;padding:10px 0;border-bottom:1px dashed rgba(0,0,0,.12)}
							.history-item:last-child{border-bottom:0}
							.badge-soft{background:#f3f4f6;color:#111;padding:4px 8px;border-radius:999px;font-size:12px}
						</style>

						<ul class="fh5co-tab-nav">
							<li class="active"><a href="#" data-tab="1"><span class="icon visible-xs"><i class="icon-file"></i></span><span class="hidden-xs">Chi tiết</span></a></li>
							<li><a href="#" data-tab="2"><span class="icon visible-xs"><i class="icon-file"></i></span><span class="hidden-xs">Dinh dưỡng</span></a></li>
							<li><a href="#" data-tab="3"><span class="icon visible-xs"><i class="icon-file"></i></span><span class="hidden-xs">Gợi ý & Cảnh báo</span></a></li>
							<li><a href="#" data-tab="4"><span class="icon visible-xs"><i class="icon-file"></i></span><span class="hidden-xs">Văn hoá</span></a></li>
							<li><a href="#" data-tab="5"><span class="icon visible-xs"><i class="icon-file"></i></span><span class="hidden-xs">Lịch sử</span></a></li>
						</ul>

						<div class="fh5co-tab-content-wrap">

							<!-- TAB 1: CHI TIẾT (GIỮ NỘI DUNG CŨ CỦA BẠN) -->
<!-- TAB 1: CHI TIẾT -->
<div class="fh5co-tab-content tab-content active" data-tab-content="1">
  <div class="row">
    <div class="col-md-10 col-md-offset-1">

      <h2>Phở — Tinh hoa nước dùng, ăn sáng “đúng gu” người Việt</h2>
      <p class="soft-muted">
        Phở nổi bật nhờ nước dùng ninh xương thơm mùi quế hồi, bánh phở mềm và thịt thái mỏng.
        Tô phở ngon là sự cân bằng: thơm – thanh – ngọt xương, không quá béo, không quá nồng gia vị.
      </p>

      <!-- Quick facts -->
      <div class="soft-card">
        <h4 class="section-title" style="margin-top:0">Tóm tắt nhanh</h4>
        <div class="row">
          <div class="col-sm-3">
            <div class="mini soft-muted">Loại món</div>
            <div><b>Món nước</b></div>
          </div>
          <div class="col-sm-3">
            <div class="mini soft-muted">Hương vị</div>
            <div><b>Thơm – thanh – ngọt xương</b></div>
          </div>
          <div class="col-sm-3">
            <div class="mini soft-muted">Ăn kèm</div>
            <div><b>Chanh, ớt, rau thơm, giá</b></div>
          </div>
          <div class="col-sm-3">
            <div class="mini soft-muted">Giá tham khảo</div>
            <div><b>30k – 70k/tô</b></div>
          </div>
        </div>
      </div>

      <!-- Ingredients -->
      <div class="soft-card">
        <h4 class="section-title" style="margin-top:0">Thành phần</h4>

        <div class="row">
          <div class="col-sm-6">
            <h5 style="font-weight:700;margin-top:0">Nước dùng & bánh phở</h5>
            <ul class="mini soft-muted">
              <li>Nước dùng: ninh xương bò hoặc gà nhiều giờ cho ngọt tự nhiên.</li>
              <li>Gia vị: quế, hồi, gừng nướng, hành nướng để thơm và “sạch mùi”.</li>
              <li>Bánh phở: mềm, không bở, trụng vừa ăn.</li>
            </ul>
            <div>
              <span class="food-chip">nước dùng</span>
              <span class="food-chip">quế hồi</span>
              <span class="food-chip">bánh phở</span>
            </div>
          </div>

          <div class="col-sm-6">
            <h5 style="font-weight:700;margin-top:0">Thịt & topping</h5>
            <ul class="mini soft-muted">
              <li>Phở bò: tái/nạm/gầu/gân… thái mỏng.</li>
              <li>Phở gà: thịt xé, da giòn (tùy), hành lá, rau thơm.</li>
              <li>Gia vị bàn: chanh, ớt, tương/tỏi (tuỳ quán).</li>
            </ul>
            <div>
              <span class="food-chip">thịt bò</span>
              <span class="food-chip">thịt gà</span>
              <span class="food-chip">hành rau</span>
            </div>
          </div>
        </div>
      </div>

      <!-- How to eat -->
      <div class="soft-card">
        <h4 class="section-title" style="margin-top:0">Cách ăn ngon (đúng kiểu)</h4>
        <div class="row">
          <div class="col-sm-6">
            <h5 style="font-weight:700;margin-top:0">1) Nêm từng chút</h5>
            <p class="mini soft-muted">
              Vắt chanh/cho ớt vừa phải. Đừng “đổ tương” quá sớm để không át mùi nước dùng.
            </p>
          </div>
          <div class="col-sm-6">
            <h5 style="font-weight:700;margin-top:0">2) Ăn nóng, trụng rau vừa</h5>
            <p class="mini soft-muted">
              Nếu có giá/rau, trụng nhanh trong nước dùng nóng để giữ độ giòn và thơm.
            </p>
          </div>
        </div>

        <div class="divider"></div>

        <h5 style="font-weight:700;margin-top:0">Mẹo chọn quán ngon</h5>
        <ul class="mini soft-muted">
          <li>Nước dùng trong, thơm, không quá béo và không quá nồng hương liệu.</li>
          <li>Bánh phở không nát, không bột; thịt tươi, không khô.</li>
          <li>Hành/rau tươi, tô phở lên nhanh và luôn nóng.</li>
        </ul>
      </div>

      <!-- Variations -->
      <div class="soft-card">
        <h4 class="section-title" style="margin-top:0">Biến thể phổ biến</h4>
        <div class="row">
          <div class="col-sm-4">
            <span class="badge-soft">Hà Nội</span>
            <p class="mini soft-muted" style="margin-top:8px">
              Vị thanh, nước dùng trong, ít đồ ăn kèm.
            </p>
          </div>
          <div class="col-sm-4">
            <span class="badge-soft">Miền Nam</span>
            <p class="mini soft-muted" style="margin-top:8px">
              Dễ ngọt nhẹ, nhiều rau/giá, gia vị bàn phong phú.
            </p>
          </div>
          <div class="col-sm-4">
            <span class="badge-soft">Phở gà / phở bò</span>
            <p class="mini soft-muted" style="margin-top:8px">
              Khác nhau chủ yếu ở nước dùng và cách chọn thịt/topping.
            </p>
          </div>
        </div>
      </div>

      <!-- CTA -->
      <div class="soft-card">
        <h4 class="section-title" style="margin-top:0">Đi tiếp ở các tab bên cạnh</h4>
        <ul class="mini soft-muted">
          <li><b>Dinh dưỡng:</b> xem calo + carb/protein/fat + % nhu cầu/ngày.</li>
          <li><b>Gợi ý & Cảnh báo:</b> chọn bệnh lý/mục tiêu để nhận khuyến nghị.</li>
          <li><b>Văn hoá:</b> câu chuyện vùng miền.</li>
          <li><b>Lịch sử:</b> lưu món đã nhận dạng và tổng hợp theo ngày/tuần.</li>
        </ul>
      </div>

    </div>
  </div>
</div>


							<!-- TAB 2: DINH DƯỠNG -->
							<div class="fh5co-tab-content tab-content" data-tab-content="2">
								<div class="row">
									<div class="col-md-10 col-md-offset-1">
										<h2>Tính toán calo & thành phần dinh dưỡng</h2>
										<p class="soft-muted">Ước lượng theo 1 tô phở (không/ có quẩy tuỳ bạn bật). Số liệu tham khảo.</p>

										<div class="soft-card form-compact">
											<h4 class="section-title" style="margin-top:0">Hồ sơ & mục tiêu</h4>

											<div class="row">
												<div class="col-sm-3">
													<label class="mini">Giới tính</label>
													<select id="sex" class="form-control">
														<option value="male" selected>Nam</option>
														<option value="female">Nữ</option>
													</select>
												</div>
												<div class="col-sm-3">
													<label class="mini">Tuổi</label>
													<input id="age" type="number" class="form-control" value="22" min="12" max="80">
												</div>
												<div class="col-sm-3">
													<label class="mini">Cân nặng (kg)</label>
													<input id="weight" type="number" class="form-control" value="60" min="30" max="200">
												</div>
												<div class="col-sm-3">
													<label class="mini">Chiều cao (cm)</label>
													<input id="height" type="number" class="form-control" value="170" min="120" max="220">
												</div>
											</div>

											<div class="row" style="margin-top:10px">
												<div class="col-sm-4">
													<label class="mini">Mức vận động</label>
													<select id="activity" class="form-control">
														<option value="1.2">Ít vận động</option>
														<option value="1.375">Nhẹ</option>
														<option value="1.55" selected>Vừa</option>
														<option value="1.725">Nhiều</option>
														<option value="1.9">Rất nhiều</option>
													</select>
												</div>
												<div class="col-sm-4">
													<label class="mini">Mục tiêu</label>
													<select id="goal" class="form-control">
														<option value="maintain" selected>Duy trì</option>
														<option value="lose">Giảm cân</option>
														<option value="gain">Tăng cơ</option>
														<option value="lowcarb">Low-carb</option>
														<option value="eatclean">Eat clean</option>
													</select>
												</div>
												<div class="col-sm-4">
													<label class="mini">Khẩu phần (so với 1 tô chuẩn)</label>
													<input id="portion" type="range" min="0.5" max="2.0" step="0.1" value="1.0" style="width:100%">
													<div class="soft-muted mini">Đang chọn: <b id="portionLabel">1.0</b>x</div>
												</div>
											</div>

											<div class="divider"></div>

											<div class="row">
												<div class="col-sm-4">
													<label class="mini" style="display:block;margin-bottom:6px">Tính kèm quẩy?</label>
													<label class="mini"><input type="checkbox" id="includeExtra" checked> Có (quẩy)</label>
												</div>
												<div class="col-sm-4">
													<label class="mini">Số lượng quẩy (cái)</label>
													<input id="extraCount" type="number" class="form-control" value="1" min="0" max="6">
												</div>
												<div class="col-sm-4">
													<label class="mini">Gợi ý nhanh</label>
													<div class="mini soft-muted">1 cái quẩy làm calo & fat tăng rõ</div>
												</div>
											</div>
										</div>

										<div class="soft-card">
											<div class="row">
												<div class="col-sm-8">
													<h4 class="section-title" style="margin-top:0">Kết quả theo khẩu phần</h4>

													<div class="kpi-row">
														<div class="kpi-box"><div class="kpi"><span id="calories">0</span> <small>kcal</small></div><span class="label">Năng lượng</span></div>
														<div class="kpi-box"><div class="kpi"><span id="carbs">0</span><small> g</small></div><span class="label">Carbohydrate</span></div>
														<div class="kpi-box"><div class="kpi"><span id="protein">0</span><small> g</small></div><span class="label">Protein</span></div>
														<div class="kpi-box"><div class="kpi"><span id="fat">0</span><small> g</small></div><span class="label">Chất béo</span></div>
													</div>

													<div class="divider"></div>

													<div class="row">
														<div class="col-sm-6">
															<div class="mini soft-muted">Chất xơ: <b id="fiber">0</b> g</div>
															<div class="mini soft-muted">Đường: <b id="sugar">0</b> g</div>
														</div>
														<div class="col-sm-6">
															<div class="mini soft-muted">Natri: <b id="sodium">0</b> mg</div>
															<div class="mini soft-muted">Béo bão hoà: <b id="satfat">0</b> g</div>
														</div>
													</div>

													<div class="divider"></div>

													<h4 class="section-title" style="margin-top:0">So với nhu cầu/ngày (ước tính)</h4>
													<div class="mini">Nhu cầu năng lượng/ngày (TDEE): <b id="tdee">0</b> kcal</div>
													<div class="progress"><div id="pCal" class="progress-bar" style="width:0%"></div></div>
													<div class="mini soft-muted">Món này chiếm <b id="pCalTxt">0%</b> năng lượng/ngày</div>

													<div class="divider"></div>

													<div class="mini">Carb mục tiêu/ngày: <b id="carbTarget">0</b> g</div>
													<div class="progress"><div id="pCarb" class="progress-bar" style="width:0%"></div></div>

													<div class="mini" style="margin-top:10px">Protein mục tiêu/ngày: <b id="proteinTarget">0</b> g</div>
													<div class="progress"><div id="pProtein" class="progress-bar" style="width:0%"></div></div>

													<div class="mini" style="margin-top:10px">Chất béo mục tiêu/ngày: <b id="fatTarget">0</b> g</div>
													<div class="progress"><div id="pFat" class="progress-bar" style="width:0%"></div></div>
												</div>

												<div class="col-sm-4">
													<h4 class="section-title" style="margin-top:0">Vitamin & khoáng chất (ước lượng)</h4>
													<div class="soft-muted mini" id="micros"></div>

													<div class="divider"></div>
													<h4 class="section-title" style="margin-top:0">Ghi chú</h4>
													<div class="mini soft-muted" id="nutritionNote"></div>
												</div>
											</div>
										</div>

									</div>
								</div>
							</div>

							<!-- TAB 3: GỢI Ý & CẢNH BÁO -->
							<div class="fh5co-tab-content tab-content" data-tab-content="3">
								<div class="row">
									<div class="col-md-10 col-md-offset-1">
										<h2>Gợi ý ăn uống & cảnh báo sức khoẻ</h2>

										<div class="soft-card form-compact">
											<h4 class="section-title" style="margin-top:0">Tùy chỉnh</h4>

											<div class="row">
												<div class="col-sm-4">
													<label class="mini">Mục tiêu</label>
													<select id="goal2" class="form-control">
														<option value="maintain" selected>Duy trì</option>
														<option value="lose">Giảm cân</option>
														<option value="gain">Tăng cơ</option>
														<option value="lowcarb">Low-carb</option>
														<option value="eatclean">Eat clean</option>
													</select>
												</div>
												<div class="col-sm-4">
													<label class="mini">Khẩu phần gợi ý</label>
													<select id="portionAdvice" class="form-control">
														<option value="0.5">0.5 tô</option>
														<option value="0.7" selected>0.7 tô</option>
														<option value="1.0">1.0 tô</option>
														<option value="1.2">1.2 tô</option>
														<option value="1.5">1.5 tô</option>
													</select>
												</div>
												<div class="col-sm-4">
													<label class="mini">Tần suất đề xuất</label>
													<select id="frequency" class="form-control">
														<option value="rare" selected>Thỉnh thoảng</option>
														<option value="weekly">1–2 lần/tuần</option>
														<option value="often">Hay ăn</option>
													</select>
												</div>
											</div>

											<div class="divider"></div>

											<label class="mini" style="margin-bottom:6px">Bệnh lý / nguy cơ (chọn nếu có)</label><br>
											<label class="pill"><input type="checkbox" class="cond2" value="diabetes"> Đái tháo đường</label>
											<label class="pill"><input type="checkbox" class="cond2" value="hypertension"> Tăng huyết áp</label>
											<label class="pill"><input type="checkbox" class="cond2" value="dyslipidemia"> Rối loạn mỡ máu</label>
											<label class="pill"><input type="checkbox" class="cond2" value="obesity"> Thừa cân / béo phì</label>
											<label class="pill"><input type="checkbox" class="cond2" value="kidney"> Bệnh thận (kiểm soát muối)</label>
											<label class="pill"><input type="checkbox" class="cond2" value="gout"> Gout</label>
											<label class="pill"><input type="checkbox" class="cond2" value="stomach"> Dạ dày/GERD</label>
										</div>

										<div class="soft-card">
											<h4 class="section-title" style="margin-top:0">Gợi ý khẩu phần</h4>
											<ul class="mini soft-muted" id="portionTips"></ul>

											<div class="divider"></div>

											<h4 class="section-title" style="margin-top:0">Mẹo ăn “ổn” hơn</h4>
											<ul class="mini soft-muted" id="smartEatTips"></ul>
										</div>

										<div class="soft-card">
											<h4 class="section-title" style="margin-top:0">Cảnh báo</h4>
											<ul class="warn-list mini" id="warningList"></ul>
											<p class="mini soft-muted" style="margin-top:10px">* Gợi ý phổ thông, không thay thế tư vấn y tế.</p>
										</div>
									</div>
								</div>
							</div>

							<!-- TAB 4: VĂN HOÁ -->
							<div class="fh5co-tab-content tab-content" data-tab-content="4">
								<div class="row">
									<div class="col-md-10 col-md-offset-1">
										<h2>Văn hoá ẩm thực vùng miền</h2>
										<p class="soft-muted">Phở là “quốc hồn quốc túy”: nước dùng trong mà sâu vị, ăn sáng là chuẩn bài.</p>

										<div class="soft-card">
											<h4 class="section-title" style="margin-top:0">Điểm khác nhau theo vùng</h4>
											<ul class="mini soft-muted">
												<li>Hà Nội: nước dùng trong, thanh, ít ngọt, ít rau.</li>
												<li>Miền Nam: ngọt hơn, nhiều rau, hay dùng tương đen/tương đỏ.</li>
												<li>Miền Trung: đậm hơn, có thể cay hơn.</li>
											</ul>
										</div>

										<div class="soft-card">
											<h4 class="section-title" style="margin-top:0">Tip trải nghiệm</h4>
											<div class="mini soft-muted">
												<div>• Lần đầu ăn: nêm ít thôi, thử nước dùng trước.</div>
												<div>• Nếu sợ mặn: hạn chế thêm nước mắm.</div>
												<div>• Nếu muốn “clean”: bỏ quẩy, tăng rau, chọn thịt nạc.</div>
											</div>
										</div>
									</div>
								</div>
							</div>

							<!-- TAB 5: LỊCH SỬ -->
							<div class="fh5co-tab-content tab-content" data-tab-content="5">
								<div class="row">
									<div class="col-md-10 col-md-offset-1">
										<h2>Lịch sử món đã nhận dạng</h2>
										<p class="soft-muted">Lưu localStorage, tự tính tổng hôm nay/7 ngày.</p>

										<div class="soft-card">
											<h4 class="section-title" style="margin-top:0">Tổng dinh dưỡng</h4>
											<div class="row">
												<div class="col-sm-6">
													<div class="mini soft-muted">Hôm nay</div>
													<div class="kpi"><span id="todayKcal">0</span> <small>kcal</small></div>
													<div class="mini soft-muted">Carb: <b id="todayCarb">0</b> g · Protein: <b id="todayProtein">0</b> g · Fat: <b id="todayFat">0</b> g</div>
												</div>
												<div class="col-sm-6">
													<div class="mini soft-muted">7 ngày gần nhất</div>
													<div class="kpi"><span id="weekKcal">0</span> <small>kcal</small></div>
													<div class="mini soft-muted">Carb: <b id="weekCarb">0</b> g · Protein: <b id="weekProtein">0</b> g · Fat: <b id="weekFat">0</b> g</div>
												</div>
											</div>

											<div class="divider"></div>

											<div class="row form-compact">
												<div class="col-sm-4">
													<label class="mini">Xem theo</label>
													<select id="historyRange" class="form-control">
														<option value="today">Hôm nay</option>
														<option value="7" selected>7 ngày</option>
														<option value="30">30 ngày</option>
														<option value="all">Tất cả</option>
													</select>
												</div>
												<div class="col-sm-4">
													<label class="mini">Sắp xếp</label>
													<select id="historySort" class="form-control">
														<option value="new" selected>Mới nhất</option>
														<option value="old">Cũ nhất</option>
														<option value="kcal_desc">Calo giảm dần</option>
														<option value="kcal_asc">Calo tăng dần</option>
													</select>
												</div>
												<div class="col-sm-4">
													<label class="mini">Tìm kiếm</label>
													<input id="historySearch" class="form-control" placeholder="Ví dụ: phở...">
												</div>
											</div>
										</div>

										<div class="soft-card">
											<div class="row">
												<div class="col-sm-8">
													<h4 class="section-title" style="margin-top:0">Danh sách</h4>
													<div id="historyList"><p class="mini soft-muted">Chưa có dữ liệu.</p></div>
												</div>
												<div class="col-sm-4">
													<h4 class="section-title" style="margin-top:0">Thao tác</h4>
													<button id="saveHistory" class="btn btn-primary btn-block">Lưu món hiện tại</button>
													<div class="divider"></div>
													<button id="exportHistory" class="btn btn-default btn-block">Xuất JSON</button>
													<button id="clearHistory" class="btn btn-default btn-block">Xoá lịch sử</button>
												</div>
											</div>
										</div>

									</div>
								</div>
							</div>

						</div>
					</div>
					<!-- ====== /TABS ====== -->

				</div>
			</div>

		</div>
	</div>

	<footer id="fh5co-footer" role="contentinfo">
		<div class="container">
			<div class="row row-pb-md">
				<div class="col-md-4 fh5co-widget">
					<h3>Shop.</h3>
					<p>Facilis ipsum reprehenderit nemo molestias. Aut cum mollitia reprehenderit. Eos cumque dicta adipisci architecto culpa amet.</p>
				</div>
				<div class="col-md-2 col-sm-4 col-xs-6 col-md-push-1">
					<ul class="fh5co-footer-links">
						<li><a href="#">About</a></li>
						<li><a href="#">Help</a></li>
						<li><a href="#">Contact</a></li>
						<li><a href="#">Terms</a></li>
						<li><a href="#">Meetups</a></li>
					</ul>
				</div>
				<div class="col-md-2 col-sm-4 col-xs-6 col-md-push-1">
					<ul class="fh5co-footer-links">
						<li><a href="#">Shop</a></li>
						<li><a href="#">Privacy</a></li>
						<li><a href="#">Testimonials</a></li>
						<li><a href="#">Handbook</a></li>
						<li><a href="#">Held Desk</a></li>
					</ul>
				</div>
				<div class="col-md-2 col-sm-4 col-xs-6 col-md-push-1">
					<ul class="fh5co-footer-links">
						<li><a href="#">Find Designers</a></li>
						<li><a href="#">Find Developers</a></li>
						<li><a href="#">Teams</a></li>
						<li><a href="#">Advertise</a></li>
						<li><a href="#">API</a></li>
					</ul>
				</div>
			</div>

			<div class="row copyright">
				<div class="col-md-12 text-center">
					<p>
						<ul class="fh5co-social-icons">
							<li><a href="#"><i class="icon-twitter"></i></a></li>
							<li><a href="#"><i class="icon-facebook"></i></a></li>
							<li><a href="#"><i class="icon-linkedin"></i></a></li>
							<li><a href="#"><i class="icon-dribbble"></i></a></li>
						</ul>
					</p>
				</div>
			</div>

		</div>
	</footer>
	</div>

	<div class="gototop js-top">
		<a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
	</div>
	
	<!-- jQuery -->
	<script src="js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="js/jquery.waypoints.min.js"></script>
	<!-- Carousel -->
	<script src="js/owl.carousel.min.js"></script>
	<!-- countTo -->
	<script src="js/jquery.countTo.js"></script>
	<!-- Flexslider -->
	<script src="js/jquery.flexslider-min.js"></script>
	<!-- Main -->
	<script src="js/main.js"></script>

	<!-- ====== PAGE JS (TAB + NUTRITION + ADVICE + HISTORY) ====== -->
	<script>
	(function () {
	  function qs(sel, root){ return (root || document).querySelector(sel); }
	  function qsa(sel, root){ return Array.prototype.slice.call((root || document).querySelectorAll(sel)); }
	  function clamp(n,a,b){ return Math.max(a, Math.min(b, n)); }
	  function round0(n){ return Math.round(n); }
	  function round1(n){ return Math.round(n*10)/10; }
	  function now(){ return new Date(); }
	  function toDate(ts){ return new Date(ts); }
	  function isSameDay(a,b){ return a.getFullYear()===b.getFullYear() && a.getMonth()===b.getMonth() && a.getDate()===b.getDate(); }
	  function withinDays(d, days){ return (now() - d) <= (days*24*60*60*1000); }

	  // ===== EXTRA: Quẩy (ước lượng / 1 cái) =====
	  var EXTRA_UNIT = { carbs: 13, protein: 2, fat: 8, fiber: 0.3, sugar: 0.4, sodium_mg: 180, satfat: 1.6 };

	  // ===== Food DB (ước lượng) =====
	  var FOOD_DB = {
	    "pho": {
	      key: "pho",
	      name: "Phở",
	      servingLabel: "1 tô phở (không quẩy)",
	      // 1 tô phở (không quẩy): carb từ bánh phở, protein từ thịt, natri khá cao (ước lượng)
	      macros: { carbs: 62, protein: 28, fat: 10, fiber: 2.0, sugar: 5, sodium_mg: 1600, satfat: 3.2 },
	      micros: [
	        { k: "Sắt", v: "vừa (tuỳ thịt bò)" },
	        { k: "Vitamin B", v: "khá" },
	        { k: "Kẽm", v: "vừa" },
	        { k: "Natri", v: "cao (nước dùng)" }
	      ],
	      note: "Calo/natri thay đổi mạnh theo lượng bánh phở + nước dùng + thịt + nêm nếm."
	    }
	  };

	  function getFoodKey(){
	    var root = qs("#foodTabsRoot");
	    return root ? (root.getAttribute("data-food-key") || "pho") : "pho";
	  }
	  function getFood(){ return FOOD_DB[getFoodKey()] || FOOD_DB["pho"]; }
	  function kcalFromMacros(m){ return (m.carbs*4) + (m.protein*4) + (m.fat*9); }

	  function calcBMR(sex, age, weight, height){
	    var base = 10*weight + 6.25*height - 5*age;
	    return (sex === "female") ? (base - 161) : (base + 5);
	  }

	  function goalCalAdjust(goal){
	    if(goal === "lose") return 0.85;
	    if(goal === "gain") return 1.12;
	    if(goal === "lowcarb") return 0.95;
	    return 1.0;
	  }

	  function macroRatio(goal){
	    if(goal === "lowcarb") return { c:0.25, p:0.30, f:0.45 };
	    if(goal === "gain")    return { c:0.45, p:0.25, f:0.30 };
	    if(goal === "lose")    return { c:0.40, p:0.30, f:0.30 };
	    if(goal === "eatclean")return { c:0.45, p:0.25, f:0.30 };
	    return { c:0.50, p:0.20, f:0.30 };
	  }

	  function calcTargets(tdee, goal){
	    var adj = tdee * goalCalAdjust(goal);
	    var r = macroRatio(goal);
	    return {
	      kcal: round0(adj),
	      carb_g: round0((adj * r.c) / 4),
	      protein_g: round0((adj * r.p) / 4),
	      fat_g: round0((adj * r.f) / 9)
	    };
	  }

	  function setBar(el, value, max){
	    var pct = (max<=0) ? 0 : clamp((value/max)*100, 0, 100);
	    if(el) el.style.width = pct.toFixed(1) + "%";
	    return pct;
	  }

	  function getNutritionState(){
	    return {
	      sex: qs("#sex") ? qs("#sex").value : "male",
	      age: qs("#age") ? (+qs("#age").value || 22) : 22,
	      weight: qs("#weight") ? (+qs("#weight").value || 60) : 60,
	      height: qs("#height") ? (+qs("#height").value || 170) : 170,
	      activity: qs("#activity") ? (+qs("#activity").value || 1.55) : 1.55,
	      goal: qs("#goal") ? qs("#goal").value : "maintain",
	      portion: qs("#portion") ? (+qs("#portion").value || 1.0) : 1.0,
	      includeExtra: qs("#includeExtra") ? !!qs("#includeExtra").checked : false,
	      extraCount: qs("#extraCount") ? (+qs("#extraCount").value || 0) : 0
	    };
	  }

	  function mergeMacros(a,b){
	    return {
	      carbs: a.carbs + b.carbs,
	      protein: a.protein + b.protein,
	      fat: a.fat + b.fat,
	      fiber: a.fiber + b.fiber,
	      sugar: a.sugar + b.sugar,
	      sodium_mg: a.sodium_mg + b.sodium_mg,
	      satfat: a.satfat + b.satfat
	    };
	  }

	  function calcExtraMacros(count){
	    var c = Math.max(0, count || 0);
	    return {
	      carbs: EXTRA_UNIT.carbs * c,
	      protein: EXTRA_UNIT.protein * c,
	      fat: EXTRA_UNIT.fat * c,
	      fiber: EXTRA_UNIT.fiber * c,
	      sugar: EXTRA_UNIT.sugar * c,
	      sodium_mg: EXTRA_UNIT.sodium_mg * c,
	      satfat: EXTRA_UNIT.satfat * c
	    };
	  }

	  function syncT2toT3(){
	    if(qs("#goal") && qs("#goal2")) qs("#goal2").value = qs("#goal").value;
	    if(qs("#portion") && qs("#portionAdvice")){
	      var pv = +qs("#portion").value || 1.0;
	      var opts = qsa("#portionAdvice option").map(function(o){ return +o.value; });
	      var best = opts[0], bestDiff = Math.abs(opts[0]-pv);
	      for(var i=1;i<opts.length;i++){
	        var d = Math.abs(opts[i]-pv);
	        if(d < bestDiff){ bestDiff = d; best = opts[i]; }
	      }
	      qs("#portionAdvice").value = String(best);
	    }
	  }

	  function syncT3toT2(){
	    if(qs("#goal2") && qs("#goal")) qs("#goal").value = qs("#goal2").value;
	    if(qs("#portionAdvice") && qs("#portion")) qs("#portion").value = (+qs("#portionAdvice").value || 1.0).toFixed(1);
	    if(qs("#portionLabel") && qs("#portion")) qs("#portionLabel").textContent = (+qs("#portion").value).toFixed(1);
	  }

	  function renderNutrition(){
	    var food = getFood();
	    var s = getNutritionState();

	    if(qs("#portionLabel")) qs("#portionLabel").textContent = s.portion.toFixed(1);

	    // base pho macros * portion
	    var m0 = food.macros;
	    var base = {
	      carbs: m0.carbs * s.portion,
	      protein: m0.protein * s.portion,
	      fat: m0.fat * s.portion,
	      fiber: m0.fiber * s.portion,
	      sugar: m0.sugar * s.portion,
	      sodium_mg: m0.sodium_mg * s.portion,
	      satfat: m0.satfat * s.portion
	    };

	    // add quẩy
	    var extra = (s.includeExtra && s.extraCount>0) ? calcExtraMacros(s.extraCount) : {carbs:0,protein:0,fat:0,fiber:0,sugar:0,sodium_mg:0,satfat:0};
	    var m = mergeMacros(base, extra);

	    m = {
	      carbs: round1(m.carbs),
	      protein: round1(m.protein),
	      fat: round1(m.fat),
	      fiber: round1(m.fiber),
	      sugar: round1(m.sugar),
	      sodium_mg: round0(m.sodium_mg),
	      satfat: round1(m.satfat)
	    };

	    var kcal = round0(kcalFromMacros(m));

	    if(qs("#calories")) qs("#calories").textContent = kcal;
	    if(qs("#carbs")) qs("#carbs").textContent = m.carbs;
	    if(qs("#protein")) qs("#protein").textContent = m.protein;
	    if(qs("#fat")) qs("#fat").textContent = m.fat;

	    if(qs("#fiber")) qs("#fiber").textContent = m.fiber;
	    if(qs("#sugar")) qs("#sugar").textContent = m.sugar;
	    if(qs("#sodium")) qs("#sodium").textContent = m.sodium_mg;
	    if(qs("#satfat")) qs("#satfat").textContent = m.satfat;

	    var bmr = calcBMR(s.sex, s.age, s.weight, s.height);
	    var tdee = bmr * s.activity;
	    var targets = calcTargets(tdee, s.goal);

	    if(qs("#tdee")) qs("#tdee").textContent = targets.kcal;
	    if(qs("#carbTarget")) qs("#carbTarget").textContent = targets.carb_g;
	    if(qs("#proteinTarget")) qs("#proteinTarget").textContent = targets.protein_g;
	    if(qs("#fatTarget")) qs("#fatTarget").textContent = targets.fat_g;

	    var pCal = setBar(qs("#pCal"), kcal, targets.kcal);
	    if(qs("#pCalTxt")) qs("#pCalTxt").textContent = round0(pCal) + "%";
	    setBar(qs("#pCarb"), m.carbs, targets.carb_g);
	    setBar(qs("#pProtein"), m.protein, targets.protein_g);
	    setBar(qs("#pFat"), m.fat, targets.fat_g);

	    if(qs("#micros")){
	      qs("#micros").innerHTML = (food.micros||[]).map(function(x){
	        return '<div style="margin:6px 0">• <b>'+x.k+'</b>: '+x.v+'</div>';
	      }).join("");
	    }

	    if(qs("#nutritionNote")){
	      var extraTxt = (s.includeExtra && s.extraCount>0) ? ("Đang tính kèm " + s.extraCount + " cái quẩy.") : "Không tính quẩy.";
	      qs("#nutritionNote").textContent = extraTxt + " " + (food.note || "");
	    }

	    syncT2toT3();
	    return { foodKey: food.key, kcal:kcal, macros:m, goal:s.goal, portion:s.portion, includeExtra:s.includeExtra, extraCount:s.extraCount };
	  }

	  function getHealthState(){
	    return {
	      goal: qs("#goal2") ? qs("#goal2").value : (qs("#goal") ? qs("#goal").value : "maintain"),
	      conditions: qsa(".cond2").filter(function(c){ return c.checked; }).map(function(c){ return c.value; }),
	      frequency: qs("#frequency") ? qs("#frequency").value : "rare"
	    };
	  }

	  function buildHealthTips(ctx, conds, freq){
	    var tips=[], smart=[], warns=[];
	    var isPho = (ctx.foodKey === "pho");

	    if(isPho){
	      smart.push("Giảm mặn: hạn chế thêm nước mắm; ưu tiên nước dùng thanh.");
	      smart.push("Giảm calo: giảm bánh phở hoặc bỏ quẩy; tăng rau/giá.");
	      smart.push("Chọn thịt nạc (tái/nạm nạc), hạn chế gầu/gân nếu đang giảm cân.");
	      smart.push("Nếu dễ đầy bụng: ăn chậm, tránh uống nhiều nước ngọt kèm.");
	    } else {
	      smart.push("Giảm mặn và dầu là ưu tiên số 1.");
	    }

	    if(ctx.goal === "lose"){
	      tips.push("Giảm cân: 0.7 tô; bỏ quẩy; giảm bánh phở nếu có thể.");
	      if(ctx.kcal >= 650) warns.push("Calo khá cao → giảm khẩu phần hoặc bỏ quẩy.");
	    } else if(ctx.goal === "lowcarb"){
	      tips.push("Low-carb: phở vốn nhiều carb (bánh phở). Giảm bánh phở hoặc ăn nửa tô.");
	      if(ctx.macros.carbs >= 50) warns.push("Carb cao (chủ yếu từ bánh phở).");
	    } else if(ctx.goal === "gain"){
	      tips.push("Tăng cơ: giữ 1 tô, ưu tiên tăng thịt nạc; kiểm soát mỡ/đồ chiên.");
	    } else {
	      tips.push("Duy trì: 1 tô ổn, chú ý natri từ nước dùng và đồ ăn kèm.");
	    }

	    if(freq === "often"){
	      warns.push("Ăn thường xuyên: dễ dư natri → xen kẽ món luộc/hấp, uống đủ nước.");
	    }

	    if(conds.indexOf("diabetes")!==-1){
	      tips.push("Đái tháo đường: giảm bánh phở, ưu tiên nửa tô; bỏ quẩy.");
	      warns.push("Theo dõi đường huyết vì carb cao.");
	    }
	    if(conds.indexOf("hypertension")!==-1 || conds.indexOf("kidney")!==-1){
	      tips.push("Huyết áp/Thận: hạn chế nước mắm, tránh uống hết nước dùng nếu quá mặn.");
	      if(ctx.macros.sodium_mg >= 1500) warns.push("Natri cao → nên chọn quán nấu thanh, ít nêm.");
	    }
	    if(conds.indexOf("dyslipidemia")!==-1){
	      tips.push("Mỡ máu: tránh quẩy, hạn chế thịt mỡ/gầu; chọn thịt nạc.");
	    }
	    if(conds.indexOf("obesity")!==-1){
	      tips.push("Thừa cân: bỏ quẩy + giảm bánh phở + tăng rau.");
	    }
	    if(conds.indexOf("gout")!==-1){
	      tips.push("Gout: ăn vừa phải; uống đủ nước; không lạm dụng nước hầm xương đậm.");
	    }
	    if(conds.indexOf("stomach")!==-1){
	      warns.push("Chanh/ớt nhiều có thể kích ứng dạ dày tuỳ người.");
	    }

	    if(warns.length===0 && conds.length===0) warns.push("Không có cảnh báo lớn. Chủ yếu kiểm soát natri và khẩu phần carb.");

	    return {tips:tips, smart:smart, warns:warns};
	  }

	  function renderHealth(nutCtx){
	    var ctx = nutCtx || renderNutrition();
	    var hs = getHealthState();
	    var out = buildHealthTips(ctx, hs.conditions, hs.frequency);

	    if(qs("#portionTips")) qs("#portionTips").innerHTML = out.tips.map(function(t){return "<li>"+t+"</li>";}).join("");
	    if(qs("#smartEatTips")) qs("#smartEatTips").innerHTML = out.smart.map(function(t){return "<li>"+t+"</li>";}).join("");
	    if(qs("#warningList")) qs("#warningList").innerHTML = out.warns.map(function(w){return "<li>"+w+"</li>";}).join("");
	  }

	  function activateTab(tabId){
	    qsa(".fh5co-tab-nav li").forEach(function(li){ li.classList.remove("active"); });
	    var link = qs('.fh5co-tab-nav a[data-tab="'+tabId+'"]');
	    if(link && link.parentElement) link.parentElement.classList.add("active");

	    qsa(".fh5co-tab-content[data-tab-content]").forEach(function(c){
	      c.classList.remove("active");
	      if(c.getAttribute("data-tab-content")===String(tabId)) c.classList.add("active");
	    });

	    if(String(tabId)==="2"){ var c2 = renderNutrition(); renderHealth(c2); }
	    if(String(tabId)==="3"){ var c3 = renderNutrition(); renderHealth(c3); }
	    if(String(tabId)==="5"){ renderHistory(); }
	  }

	  function setupTabs(){
	    qsa(".fh5co-tab-nav a[data-tab]").forEach(function(a){
	      a.addEventListener("click", function(e){
	        e.preventDefault();
	        activateTab(a.getAttribute("data-tab"));
	      }, true);
	    });
	  }

	  // ===== History =====
	  var LS_KEY = "food_history_v1";
	  function loadHistory(){ try { return JSON.parse(localStorage.getItem(LS_KEY) || "[]"); } catch(e){ return []; } }
	  function saveHistory(list){ localStorage.setItem(LS_KEY, JSON.stringify(list)); }
	  function sumEntries(entries){
	    return entries.reduce(function(acc,it){
	      acc.kcal += (+it.kcal||0); acc.carbs += (+it.carbs||0); acc.protein += (+it.protein||0); acc.fat += (+it.fat||0);
	      return acc;
	    }, {kcal:0,carbs:0,protein:0,fat:0});
	  }

	  function applyHistoryFilters(list){
	    var range = qs("#historyRange") ? qs("#historyRange").value : "7";
	    var sort = qs("#historySort") ? qs("#historySort").value : "new";
	    var q = qs("#historySearch") ? (qs("#historySearch").value||"").trim().toLowerCase() : "";
	    var filtered = list.slice();

	    if(range==="today") filtered = filtered.filter(function(it){ return isSameDay(toDate(it.ts), now()); });
	    else if(range==="7") filtered = filtered.filter(function(it){ return withinDays(toDate(it.ts), 7); });
	    else if(range==="30") filtered = filtered.filter(function(it){ return withinDays(toDate(it.ts), 30); });

	    if(q) filtered = filtered.filter(function(it){ return (it.name||"").toLowerCase().indexOf(q)!==-1; });

	    if(sort==="new") filtered.sort(function(a,b){return (b.ts||0)-(a.ts||0);});
	    else if(sort==="old") filtered.sort(function(a,b){return (a.ts||0)-(b.ts||0);});
	    else if(sort==="kcal_desc") filtered.sort(function(a,b){return (+b.kcal||0)-(+a.kcal||0);});
	    else if(sort==="kcal_asc") filtered.sort(function(a,b){return (+a.kcal||0)-(+b.kcal||0);});

	    return filtered;
	  }

	  function renderHistory(){
	    var raw = loadHistory();
	    var today = raw.filter(function(it){ return isSameDay(toDate(it.ts), now()); });
	    var week = raw.filter(function(it){ return withinDays(toDate(it.ts), 7); });

	    var t = sumEntries(today);
	    var w = sumEntries(week);

	    if(qs("#todayKcal")) qs("#todayKcal").textContent = round0(t.kcal);
	    if(qs("#todayCarb")) qs("#todayCarb").textContent = round0(t.carbs);
	    if(qs("#todayProtein")) qs("#todayProtein").textContent = round0(t.protein);
	    if(qs("#todayFat")) qs("#todayFat").textContent = round0(t.fat);

	    if(qs("#weekKcal")) qs("#weekKcal").textContent = round0(w.kcal);
	    if(qs("#weekCarb")) qs("#weekCarb").textContent = round0(w.carbs);
	    if(qs("#weekProtein")) qs("#weekProtein").textContent = round0(w.protein);
	    if(qs("#weekFat")) qs("#weekFat").textContent = round0(w.fat);

	    var list = applyHistoryFilters(raw);
	    var box = qs("#historyList");
	    if(!box) return;

	    if(!list.length){
	      box.innerHTML = '<p class="mini soft-muted">Không có dữ liệu phù hợp.</p>';
	      return;
	    }

	    box.innerHTML = list.slice(0, 50).map(function(it){
	      var d = toDate(it.ts);
	      return (
	        '<div class="history-item">' +
	          '<div><b>'+it.name+'</b> <span class="badge-soft">'+(it.portion||"1.0")+'x</span>' +
	          '<div class="mini soft-muted">'+d.toLocaleString()+'</div></div>' +
	          '<div class="text-right"><b>'+round0(it.kcal||0)+'</b> kcal' +
	          '<div class="mini soft-muted">C '+round0(it.carbs||0)+' · P '+round0(it.protein||0)+' · F '+round0(it.fat||0)+'</div></div>' +
	        '</div>'
	      );
	    }).join("");
	  }

	  function downloadJSON(filename, obj){
	    var blob = new Blob([JSON.stringify(obj, null, 2)], {type:"application/json"});
	    var url = URL.createObjectURL(blob);
	    var a = document.createElement("a");
	    a.href = url; a.download = filename;
	    document.body.appendChild(a); a.click(); a.remove();
	    setTimeout(function(){ URL.revokeObjectURL(url); }, 500);
	  }

	  function addCurrentToHistory(){
	    var food = getFood();
	    var n = renderNutrition();
	    var goal = qs("#goal") ? qs("#goal").value : "maintain";

	    var entry = {
	      ts: Date.now(),
	      key: food.key,
	      name: food.name,
	      portion: n.portion.toFixed(1),
	      goal: goal,
	      kcal: n.kcal,
	      carbs: n.macros.carbs,
	      protein: n.macros.protein,
	      fat: n.macros.fat
	    };

	    var list = loadHistory();
	    list.push(entry);
	    saveHistory(list);
	    renderHistory();
	  }

	  function bindAll(){
	    setupTabs();

	    ["sex","age","weight","height","activity","goal","portion","includeExtra","extraCount"].forEach(function(id){
	      var el = qs("#"+id);
	      if(!el) return;
	      el.addEventListener("input", function(){ var c = renderNutrition(); renderHealth(c); });
	      el.addEventListener("change", function(){ var c = renderNutrition(); renderHealth(c); });
	    });

	    ["goal2","portionAdvice","frequency"].forEach(function(id){
	      var el = qs("#"+id);
	      if(!el) return;
	      el.addEventListener("change", function(){
	        syncT3toT2();
	        var c = renderNutrition();
	        renderHealth(c);
	      });
	    });

	    qsa(".cond2").forEach(function(c){
	      c.addEventListener("change", function(){ var c2 = renderNutrition(); renderHealth(c2); });
	    });

	    if(qs("#saveHistory")) qs("#saveHistory").addEventListener("click", addCurrentToHistory);
	    if(qs("#exportHistory")) qs("#exportHistory").addEventListener("click", function(){ downloadJSON("food_history.json", loadHistory()); });
	    if(qs("#clearHistory")) qs("#clearHistory").addEventListener("click", function(){ localStorage.removeItem(LS_KEY); renderHistory(); });

	    ["historyRange","historySort","historySearch"].forEach(function(id){
	      var el = qs("#"+id);
	      if(!el) return;
	      el.addEventListener("input", renderHistory);
	      el.addEventListener("change", renderHistory);
	    });
	  }

	  document.addEventListener("DOMContentLoaded", function(){
	    bindAll();
	    var ctx = renderNutrition();
	    renderHealth(ctx);
	    renderHistory();
	  });
	})();
	</script>
	<!-- ====== /PAGE JS ====== -->

	</body>
</html>
